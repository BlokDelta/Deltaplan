%
%   specific commands
%

\newcommand{\thema}[1]{\addchap{Thema: #1}}

\newcommand{\vertrekpunt}[1]{\section*{#1}\addcontentsline{toc}{section}{#1}}

\usepackage{mdframed}
\mdfdefinestyle{borderless}{
	topline=false,
	rightline=false,
	bottomline=false,
	leftline=false,
	backgroundcolor=pink-pastel!30,
	innertopmargin=15pt,
	innerrightmargin=15pt,
	innerbottommargin=15pt,
	innerleftmargin=15pt,
	skipabove=10pt,
	skipbelow=10pt
}
\mdfdefinestyle{borderless-purple}{
	style=borderless,
	backgroundcolor=pink-purple
}
\mdfdefinestyle{borderless-pink-pastel}{
	style=borderless,
	backgroundcolor=pink-pastel
}



% length used by \smartresize
\newlength{\myl}
% resize only when necessary to fit linewidth
\newcommand{\smartresize}[1]{
	\settowidth{\myl}{#1}
	\ifdimcomp{\the\linewidth}{>}{\the\myl}
	{
		#1
	}
	{
		\resizebox{\linewidth}{!}{#1}
	}
}

\newcommand{\setvoorsteltitle}[1]{\def \currentvoorsteltitle {#1}}
\newcommand{\unsetvoorsteltitle}{\let \currentvoorsteltitle \undefined}
\newcommand{\putvoorsteltitle}{%
\ifdef{\currentvoorsteltitle}{%
\smartresize{%
\textit{\ifdraft{}{\color{white}}\merriweather\KOMAoptions{fontsize=60pt}\currentvoorsteltitle}%
}%
\unsetvoorsteltitle%
}
{
VOORSTELTITLE NOT SET
}
}

% environments for Voorstel
\newenvironment{voorstel}[1]{
	\newpage
	\setvoorsteltitle{#1}
	\addcontentsline{toc}{section}{#1}
	\begin{refsection}
}{
	\end{refsection}
}

\newcommand{\meeschrijver}[1]{\setmeeschrijver{#1}}
\newcommand{\setmeeschrijver}[1]{\def \currentmeeschrijver {#1}}
\newcommand{\unsetmeeschrijver}{\let \currentmeeschrijver \undefined}
\newcommand{\putmeeschrijver}{
\ifdef{\currentmeeschrijver}
	{\textit{\merriweather gebaseerd op een bijdrage van \currentmeeschrijver}\unsetmeeschrijver{}}
	{}
}

\usepackage{mwe}
\newcommand{\headerimg}[1]{\setheaderimg{#1}}
\newcommand{\setheaderimg}[1]{\def \currentheaderimg {#1}}
\newcommand{\unsetheaderimg}{\let \currentheaderimg \undefined}
\newcommand{\putheaderimg}{
\ifdef{\currentheaderimg}
	{
	\begin{center}
		\makebox[\textwidth]{
			\includegraphics[width=\paperwidth]{\currentheaderimg}
		}
	\end{center}
	\unsetheaderimg{}
	}
	{
	\begin{center}
		\makebox[\textwidth]{
			\includegraphics[width=\paperwidth,height=.5\paperwidth]{example-image}
		}
	\end{center}
	}
}

\newenvironment{samenvatting}
{
	\putheaderimg{}
	\vspace{-100pt}
	\begin{mdframed}[
		style=borderless-pink-pastel,
		innertopmargin=-56pt,
		innerrightmargin=12pt,
		innerbottommargin=10pt,
		innerleftmargin=12pt
	]
	\hspace{-20pt}\putvoorsteltitle{}

	\vspace{-4pt}
	\begin{raggedright}
	\itshape\merriweather\KOMAoptions{fontsize=14pt}
}
{
	\end{raggedright}
	\end{mdframed}
	\vspace{6pt}
}
\newenvironment{uitdaging}{\bfseries}{}
\newenvironment{overwegingen}{}{}



\newenvironment{infobox}[1]{
	\begin{mdframed}[
		style=borderless
	]
	\textbf{#1}\\
}
{
	\end{mdframed}
}

\newenvironment{aanbevelingen}
{
	\begin{mdframed}[style=borderless-purple]
	\ifdraft{}{\color{white}}
	\textbf{\large Voorstel}

}
{
	\end{mdframed}
	\putmeeschrijver{}
	\printbibliography[heading=subbibliography]
}

\newcommand{\speerpunt}[1]{\textbf{#1}}

\newcommand{\term}[1]{\textit{#1}}
\newcommand{\COO}{\texorpdfstring{CO\textsubscript{2}}{CO2}\xspace}
